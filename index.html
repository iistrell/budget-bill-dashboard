<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mr. Budget Bill | Command Center</title>
    <style>
        :root { --blue: #002366; --orange: #FF6700; --bg: #f4f7f9; }
        body { font-family: sans-serif; background: var(--bg); margin: 0; padding: 20px; }
        header { background: var(--blue); color: white; padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; border-bottom: 5px solid var(--orange); border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .board { display: flex; gap: 20px; padding: 20px 0; overflow-x: auto; }
        .column { background: #e2e4e6; border-radius: 8px; min-width: 300px; padding: 10px; min-height: 80vh; flex: 1; }
        .column-header { padding: 10px; font-weight: bold; color: var(--blue); border-bottom: 2px solid var(--orange); margin-bottom: 10px; text-align: center; }
        .card { background: white; border-radius: 6px; padding: 15px; margin-bottom: 15px; border-left: 5px solid var(--blue); box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: 0.2s; }
        .card:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
        .card h4 { margin: 0 0 5px 0; color: var(--blue); font-size: 16px; }
        .card p { font-size: 13px; color: #555; margin: 0; line-height: 1.4; }
        .sync-btn { background: var(--orange); border: none; color: white; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <div style="font-size: 24px; font-weight: bold;">Mr. Budget<span style="color:var(--orange)">Bill</span></div>
    <button class="sync-btn" onclick="fetchData()">ðŸ”„ Sync Dashboard</button>
</header>

<div class="board">
    <div class="column">
        <div class="column-header">ðŸ’¡ IDEAS BUCKET</div>
        <div id="Idea"></div>
    </div>
    <div class="column">
        <div class="column-header">âœ… READY TO FILM</div>
        <div id="Ready"></div>
    </div>
    <div class="column">
        <div class="column-header">ðŸš€ LIVE / DONE</div>
        <div id="Done"></div>
    </div>
</div>

<script>
    const sheetID = '1zPi_e85ZbeCOBUucGH2_9rvi67ZInWd3KSmdD1T_7lg';
    const sheetName = 'Kanban';
    const csvURL = `https://docs.google.com/spreadsheets/d/1zPi_e85ZbeCOBUucGH2_9rvi67ZInWd3KSmdD1T_7lg/edit?gid=0#gid=0`;

    async function fetchData() {
        try {
            const proxyURL = 'https://api.allorigins.win/get?url=' + encodeURIComponent(csvURL);
            const response = await fetch(proxyURL);
            const json = await response.json();
            const text = json.contents;
            
            const rows = text.split(/\r?\n/).slice(1);
            
            // Clear columns
            document.getElementById('Idea').innerHTML = '';
            document.getElementById('Ready').innerHTML = '';
            document.getElementById('Done').innerHTML = '';

            rows.forEach(row => {
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                if (cols.length < 3) return;

                const clean = (s) => s ? s.replace(/^"|"$/g, "").trim() : "";
                
                const title = clean(cols[1]);
                const statusValue = clean(cols[2]).toLowerCase(); // This reads your "Status" column
                const notes = clean(cols[4]);

                if (title && statusValue) {
                    const card = `<div class="card"><h4>${title}</h4><p>${notes}</p></div>`;
